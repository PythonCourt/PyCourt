# === ğŸ›ï¸ PyCourt Supreme Court - Courtroom & Judge Messages (EN) ===

courtroom:
  supreme_court:
    summary_failed: "âŒ Found {count} constitutional violations:"
    summary_passed: "âœ… Review passed, no violations found in the selected scope"

# === ğŸ›ï¸ Judge templates by law code (EN) ===

judges:
  AC001:
    template: |
      ğŸ¦† Duck Typing Inspector: Detected misuse of Any type
      ğŸ“Œ Target variable/attribute: {target_name}
      ğŸ“‹ Annotation: {annotation_str}
      ğŸ’¡ Suggestion: Avoid using Any. Introduce a more specific contract type (e.g. DTO / Protocol / TypedDict).
      ğŸ”§ Quick fix examples:
        - Define a dedicated data model or type alias for this value and use that type instead.
        - Or use TypedDict / Protocol to describe the structure instead of Any.

  AC002:
    template: |
      ğŸ¦† Type System Auditor: Detected a dict without a value contract
      ğŸ“Œ Target variable/attribute: {target_name}
      ğŸ“‹ Annotation: {annotation_str}
      ğŸ’¡ Suggestion: Do not use a bare dict. Introduce clearer models or type aliases for key/value.
      ğŸ”§ Quick fix examples:
        - Define a DTO / Schema / TypedDict / Protocol for the value type and reference it in dict[...].
        - If this is only a carrier for configuration/data, consider using a data model (e.g. Pydantic / dataclasses) instead.

  AC003:
    template: |
      ğŸ¦† Type System Auditor: Detected suspicious use of typing.cast
      ğŸ“Œ Expression: {annotation_str}
      ğŸ’¡ Suggestion: `cast` should be a last resort. Prefer fixing type signatures and data flow instead.
      ğŸ”§ Quick fix examples:
        - Trace data origins so the type checker can infer the correct type naturally.
        - Introduce more precise annotations or intermediate models for parameters/return values to reduce the need for casts at call sites.
        - For truly necessary casts, add a nearby comment explaining the justification so the team can review it.

  BC001:
    template: |
      ğŸ›ï¸ Boundary Control Judge: Detected boundary contract violation
      ğŸ“Œ Function: {func}
      ğŸ“‹ Offending parameter: {name} -> {type}
      ğŸ’¡ Suggestion: For data crossing boundaries, define dedicated DTO/Schema types instead of exposing internal structures or primitive collections.
      ğŸ”§ Quick fix: Use a data modeling library (e.g. Pydantic / dataclasses) to define a clear contract type for this parameter.

  DI001:
    template: |
      ğŸ›ï¸ Dependency Inversion Judge: Detected suspicious cross-module/component dependency
      ğŸ“‹ Offending import: {imported_module}
      ğŸ’¡ Suggestion: Depend on abstractions (interfaces/protocols) rather than concrete implementations, and wire implementations where needed.
      ğŸ”§ Quick fix: Extract an interface or protocol type for this dependency and depend only on that abstraction in the caller.

  DS001:
    template: |
      ğŸ›ï¸ Docstring Judge: Detected missing function docstring
      ğŸ“Œ Function: {func}
      ğŸ’¡ Suggestion: For public or complex functions, add a docstring describing behavior, key parameters and return value.
      ğŸ”§ Quick fix: Add a concise docstring explaining purpose, main arguments and what is returned.

  DS002:
    template: |
      ğŸ›ï¸ Docstring Judge: Detected insufficient class documentation
      ğŸ“Œ Class: {klass}
      ğŸ“‹ Requirement: Docstring length must be at least {min_len} characters
      ğŸ’¡ Suggestion: Describe the class responsibilities, main collaborators and typical usage.
      ğŸ”§ Quick fix: Add a triple-quoted docstring below the class definition with a brief usage description.

  DT001:
    template: |
      ğŸ›ï¸ Time Judge: Detected direct usage of datetime.now()/utcnow()
      ğŸ’¡ Suggestion: Access time via a replaceable time source (e.g. time service or clock abstraction) to support testing and timezone control.
      ğŸ”§ Quick fix: Replace direct calls with an injected "clock" or configurable time provider.

  HC001:
    template: |
      ğŸ›ï¸ Hardcoding Judge: Detected a hardcoded string or literal with business meaning
      ğŸ“Œ Code snippet: {snippet}
      ğŸ’¡ Suggestion: Move business-related or frequently changing literals into centralized constants or configuration.
      ğŸ”§ Quick fix: Extract the literal into a constants module or configuration file and reference it from code.

  HC002:
    template: |
      ğŸ›ï¸ Constants Judge: Detected bare constant import
      ğŸ“Œ Constant: {name}
      ğŸ’¡ Suggestion: Use namespaces (classes/modules) to group constants instead of importing many bare names.
      ğŸ”§ Quick fix: Group related constants under an appropriate namespace and reference them with a namespace prefix.

  HC003:
    template: |
      ğŸ›ï¸ Constants Judge: Detected scattered bare constant definition
      ğŸ“Œ Constant: {name}
      ğŸ’¡ Suggestion: Consolidate constants in a dedicated location (e.g. a constants module), organized by domain or purpose.
      ğŸ”§ Quick fix: Move this constant to the central constants definition and import it where needed.

  HC004:
    template: |
      ğŸ›ï¸ Constants Judge: Detected direct cross-context import of business constants
      ğŸ“‹ Source: {source}
      ğŸ’¡ Suggestion: When sharing across contexts, promote such values to system-level constants or configuration instead of coupling to a specific implementation constant.
      ğŸ”§ Quick fix: Introduce a higher-level constant/config entry and have both sides depend on that abstraction.

  HC005:
    template: |
      ğŸ›ï¸ Magic Number Judge: Detected hardcoded tunable business parameter
      ğŸ“Œ Code snippet: {snippet}
      ğŸ“‹ Impact: Thresholds/weights/window sizes, when hardcoded, are hard to tune safely across environments and versions.
      ğŸ’¡ Suggestion: Move such parameters into centralized configuration or a rules system and read them instead of hardcoding.
      ğŸ”§ Quick fix:
        - Introduce a configuration entry or rule for this parameter instead of a literal.
        - In code, prefer reading from configuration/rules and only fall back to a sensible default when necessary.

  LL001:
    template: |
      ğŸ›ï¸ Complexity Judge: Detected an overly long function
      ğŸ“Œ Function: {func}
      ğŸ“‹ Current length: {lines} lines (limit: {limit})
      ğŸ’¡ Suggestion: Split into smaller, more focused helper functions so each handles a clear subtask.
      ğŸ”§ Quick fix: Identify natural logical segments and extract them into private/internal helpers.

  LL002:
    template: |
      ğŸ›ï¸ Complexity Judge: Detected high cyclomatic complexity
      ğŸ“Œ Function: {func}
      ğŸ“‹ Complexity: {complexity} (limit: {limit})
      ğŸ’¡ Suggestion: Review branches and loops, simplify control flow, and consider patterns (strategy/state, etc.) to decompose logic.
      ğŸ”§ Quick fix: Extract conditional blocks into separate functions or objects to avoid too many branches in a single function.

  OU001:
    template: |
      ğŸ›ï¸ Grey Fog Judge: Detected usage of `object` as a type
      ğŸ’¡ Suggestion: Introduce a more specific abstract base class, protocol, or concrete type rather than unconstrained `object`.
      ğŸ”§ Quick fix: Replace `object` with a more meaningful interface/base class/union type.

  PC001:
    template: |
      ğŸ›ï¸ Parameter Classification Judge: Detected an "operational/strategy" parameter hardcoded as a constant
      ğŸ“Œ Constant: {const_name}
      ğŸ’¡ Suggestion: Move volatile operational/strategy parameters out of core constants and into configuration or a rules system.
      ğŸ”§ Quick fix: Add a configuration or rules entry for this parameter and retrieve it via an abstract "parameter provider" in code.

  PC002:
    template: |
      ğŸ›ï¸ Parameter Classification Judge: Detected direct access to underlying rule/config assets, bypassing abstractions
      ğŸ“‹ Offending code: {snippet}
      ğŸ’¡ Suggestion: Avoid accessing rule/config assets via file paths or hardcoded locations; use a dedicated abstraction instead.
      ğŸ”§ Quick fix: Introduce a rules/config provider abstraction and access parameters by ID/Key.

  RE001:
    template: |
      ğŸ›ï¸ Facade Discipline Judge: Detected oversized __init__.py
      ğŸ“‹ Current code lines: {code_count} (limit: {max_init_lines})
      ğŸ’¡ Suggestion: Keep facades slim; avoid piling implementation details or heavy imports into __init__.py.
      ğŸ”§ Quick fix: Move implementation into dedicated modules and keep the facade focused on light exports/metadata.

  RE002:
    template: |
      ğŸ›ï¸ Facade Discipline Judge: Detected business logic in __init__.py
      ğŸ“‹ Offending node type: {node_type}
      ğŸ’¡ Suggestion: Put concrete implementations into dedicated modules; facades should only expose public APIs or metadata.
      ğŸ”§ Quick fix: Move classes/functions/logic to separate modules and re-export minimally from the facade.

  RE003:
    template: |
      ğŸ›ï¸ Facade Discipline Judge: Detected discouraged structures in __init__.py
      ğŸ“‹ Detail: {detail}
      ğŸ’¡ Suggestion: Remove complex logic from the facade and keep only lightweight imports/aliases/descriptions.
      ğŸ”§ Quick fix: Move implementation into dedicated modules and let __init__.py only perform necessary aggregation.

  SK001:
    template: |
      ğŸ›ï¸ Skills Usage Judge: Detected a hardcoded "skill/capability" identifier string
      ğŸ“Œ Skill ID: {skill_id}
      ğŸ’¡ Suggestion: Introduce centralized constants or configuration for such identifiers instead of scattering raw strings in business code.
      ğŸ”§ Quick fix: Declare the identifier in a shared constants/config module and access skills via a skill provider or equivalent mechanism.

  SK002:
    template: |
      ğŸ›ï¸ Skills Usage Judge: Detected direct file access to skill/capability assets
      ğŸ“‹ Offending code: {snippet}
      ğŸ’¡ Suggestion: Avoid manipulating skill assets directly from business logic; prefer accessing them via an abstraction or service.
      ğŸ”§ Quick fix: Introduce a skill/capability provider abstraction responsible for locating and loading underlying assets.

  TC001:
    template: |
      ğŸ›ï¸ Type Checking Judge: Detected TYPE_CHECKING being used as a patch for circular dependencies
      ğŸ’¡ Suggestion: Address circular dependencies by splitting modules or introducing neutral DTO/interface modules, rather than relying on conditional imports.
      ğŸ”§ Quick fix: Move shared types/interfaces into a more stable upper layer (e.g. a dedicated types/protocols module) and have both sides depend on it.

  TP001:
    template: |
      ğŸ›ï¸ Test Purity Judge: Detected direct I/O dependency in a unit test
      ğŸ“Œ Location: {file}:{line}
      ğŸ“‹ Forbidden import: {import_stmt}
      ğŸ’¡ Suggestion: Unit tests should be isolated from external systems (files/network/DB, etc.). Use ports or test doubles (fakes/mocks) instead of real I/O.

  TP002:
    template: |
      ğŸ›ï¸ Test Purity Judge: Detected tests directly depending on low-level persistence or ORM implementation
      ğŸ“Œ Location: {file}:{line}
      ğŸ“‹ Import statement: {import_stmt}
      ğŸ’¡ Suggestion: Restrict DB integration tests to a few dedicated modules; other tests should go through repository interfaces or domain ports.

  TP003:
    template: |
      ğŸ›ï¸ Test Purity Judge: Detected pseudo-coverage tests that only check symbol existence
      ğŸ“Œ Location: {file}:{line}
      ğŸ“‹ Suspicious pattern: importlib.import_module + hasattr without real behavior checks
      ğŸ’¡ Suggestion: Write tests that call the target function/method at least once and assert key behavior and edge cases, not just presence.

  UW001:
    template: |
      ğŸ›ï¸ Unit of Work Judge: Detected a pattern related to transaction boundary misuse
      ğŸ“‹ Offending method: {method}
      ğŸ’¡ Suggestion: Centralize transaction management in a dedicated Unit of Work / transaction boundary component rather than in factories or business objects.
      ğŸ”§ Quick fix: Move responsibility for starting/committing transactions into an explicit UoW or service layer that coordinates repository operations.

  UW002:
    template: |
      ğŸ›ï¸ Unit of Work Judge: Detected repository calling commit()
      ğŸ’¡ Suggestion: Repositories should focus on data access; transaction commits should be controlled by an upper-layer Unit of Work or service.
      ğŸ”§ Quick fix: Remove commit() calls from repositories and delegate commit to a higher-level transaction boundary.

  UW003:
    template: |
      ğŸ›ï¸ Unit of Work Judge: Detected repository calling rollback()
      ğŸ’¡ Suggestion: Repositories should not roll back transactions on their own; rollback and error handling belong in the central transaction boundary.
      ğŸ”§ Quick fix: Remove rollback() calls from repositories and let an upper layer handle exceptions and rollbacks.

  UW004:
    template: |
      ğŸ›ï¸ Unit of Work Judge: Detected direct manipulation of critical resources bypassing the unified transaction boundary
      ğŸ’¡ Suggestion: Ensure that all critical business operations run within a single transaction context coordinated by an explicit UoW/service.
      ğŸ”§ Quick fix: Consolidate related calls in a unified transaction/service layer that orchestrates repositories and other external dependencies.

  VT001:
    template: |
      ğŸ›ï¸ Vector Transactions Judge: Detected unsupported asset_type
      ğŸ“‹ asset_type: {asset_type}
      ğŸ’¡ Suggestion: Extend the vector/retrieval provider to handle this asset_type, or explicitly declare it unsupported in configuration.
      ğŸ”§ Quick fix: Add a corresponding route/branch in the project's vector provider (or equivalent component).

  VT002:
    template: |
      ğŸ›ï¸ Vector Transactions Judge: Detected unsupported capsule_kind
      ğŸ“‹ capsule_kind: {capsule_kind}
      ğŸ’¡ Suggestion: Extend the vector/event provider to handle this capsule_kind, or explicitly declare it unsupported in configuration.
      ğŸ”§ Quick fix: Add a corresponding branch in the project's vector/event routing module.

  VT003:
    template: |
      ğŸ›ï¸ Vector Transactions Judge: Detected event missing required fields
      ğŸ“Œ Event: {event_name}
      ğŸ“‹ Missing field: {field}
      ğŸ’¡ Suggestion: Mark these fields as required in the event model/constructor to avoid relying on runtime inference.
      ğŸ”§ Quick fix: Adjust the event definition or construction logic so all key information is provided explicitly when creating the event.
