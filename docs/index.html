<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>PythonCourt – The Code Court for Python</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Powered by ASTs and rules to audit Python code written with or by AI"
    />
    <style>
      :root {
        --bg: #4d4637;
        --bg-dark: #1c1c1c;
        --text: #f9f9f9;
        --text-subtle: #c6c6c6;
        --accent: #ed6a13;
        --accent-soft: #b9946a;
        --border-soft: #e0d4c2;
        --code-bg: #252525;
        --code-text: #f5f5f5;
        --btn-bg: #ffffff;
        --btn-border: #d1c3aa;
        --btn-hover-bg: #f5ebdd;
        --btn-ghost-text: #333333;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: var(--bg);
        color: var(--text);
        -webkit-font-smoothing: antialiased;
      }

      .page {
        max-width: 980px;
        margin: 0 auto;
        padding: 40px 16px 80px;
      }

      header.hero {
        text-align: center;
        margin-bottom: 40px;
      }

      .brand-mark {
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--accent);
        font-weight: 700;
        margin-bottom: 12px;
      }

      .hero-title {
        font-size: 50px;
        line-height: 1.05;
        margin: 0 0 12px;
      }

      .hero-tagline {
        font-size: 16px;
        line-height: 1.5;
        margin: 0;
        color: var(--text-subtle);
      }

      .hero-tagline strong {
        color: var(--accent);
        font-weight: 600;
      }

      .lang-switch {
        margin-top: 24px;
        display: inline-flex;
        gap: 8px;
      }

      .btn-lang {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px 14px;
        font-size: 13px;
        border-radius: 999px;
        border: 1px solid var(--btn-border);
        background: var(--btn-bg);
        color: var(--btn-ghost-text);
        text-decoration: none;
        cursor: pointer;
        transition:
          background 0.15s ease-out,
          border-color 0.15s ease-out,
          color 0.15s ease-out;
      }

      .btn-lang.primary {
        background: var(--accent);
        border-color: var(--accent);
        color: #fff;
      }

      .btn-lang:hover {
        background: var(--btn-hover-bg);
      }

      .btn-lang.primary:hover {
        background: #cc5a0e;
        border-color: #cc5a0e;
      }

      .btn-lang span.code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        margin-left: 4px;
        opacity: 0.85;
      }

      .hero-install {
        margin-top: 48px;
      }

      .section-label {
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--accent);
        margin-bottom: 8px;
        font-weight: 700;
      }

      .code-block {
        margin: 8px auto 0;
        max-width: 450px;
      }

      pre.code {
        margin: 0;
        padding: 12px 16px;
        border-radius: 6px;
        background: var(--code-bg);
        color: var(--code-text);
        font-size: 13px;
        overflow-x: auto;
      }

      pre.code code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }

      .code-caption {
        font-size: 14px;
        color: var(--text-subtle);
        margin-top: 6px;
        text-align: center;
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }

      main {
        margin-top: 40px;
      }

      section {
        margin-top: 40px;
        border-top: 1px solid var(--border-soft);
        padding-top: 28px;
        text-align: center;
      }

      section:first-of-type {
        border-top: none;
        padding-top: 0;
      }

      section h2 {
        margin: 0 0 12px;
        font-size: 32px;
        text-align: center;
      }

      section p {
        margin: 0 0 10px;
        line-height: 1.6;
        color: var(--text-subtle);
      }

      ul.feature-list {
        margin: 10px 0 0 18px;
        padding: 0;
        color: var(--text-subtle);
      }

      ul.feature-list li {
        margin-bottom: 6px;
      }

      .pill {
        display: inline-block;
        padding: 3px 9px;
        font-size: 11px;
        border-radius: 999px;
        background: var(--accent-soft);
        color: var(--text);
        margin-right: 6px;
        margin-top: 4px;
      }

      .weapon-columns {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        column-gap: 32px;
        row-gap: 24px;
        margin-top: 20px;
        text-align: left;
      }

.weapon-card {
        padding: 16px 18px;
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.08);
        display: block;
        color: inherit;
        text-decoration: none;
        transition: background 0.15s ease, transform 0.15s ease,
          box-shadow 0.15s ease;
      }

      .weapon-card:hover {
        text-decoration: none;
        background: rgba(0, 0, 0, 0.16);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
      }

      .weapon-name {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--accent);
      }

      .weapon-summary {
        font-size: 14px;
        color: var(--text-subtle);
        margin: 0 0 10px;
      }

      .weapon-points {
        margin: 0 0 0 18px;
        padding: 0;
        font-size: 13px;
        color: var(--text-subtle);
      }

      .weapon-points li {
        margin-bottom: 4px;
      }

      .config-grid {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
        column-gap: 40px;
        row-gap: 24px;
        margin-top: 24px;
        align-items: flex-start;
        text-align: left;
      }

      .config-text h3 {
        margin: 0 0 8px;
        font-size: 18px;
        color: var(--accent);
      }

      .config-code .section-label {
        text-align: left;
      }

      .law-columns {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        column-gap: 40px;
        row-gap: 12px;
        margin-top: 8px;
      }

      .law-column {
        text-align: center;
      }

      .law-article {
        margin-bottom: 10px;
      }

      .law-id {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 16px;
        color: var(--accent);
      }

      .law-name {
        font-size: 16px;
        font-weight: 600;
        margin-top: 2px;
      }

      .law-summary {
        font-size: 13px;
        color: var(--text-subtle);
        margin: 2px 0 0;
      }

      a {
        color: var(--accent);
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      footer {
        margin-top: 56px;
        padding-top: 20px;
        border-top: 1px solid var(--border-soft);
        font-size: 13px;
        color: var(--text-subtle);
        text-align: center;
      }

      @media (max-width: 640px) {
        .hero-title {
          font-size: 34px;
        }

        .hero-tagline {
          font-size: 16px;
        }

        .page {
          padding: 24px 14px 56px;
        }

        .law-columns {
          grid-template-columns: 1fr;
        }

        .weapon-columns {
          grid-template-columns: 1fr;
        }

        .config-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- Hero -->
      <header class="hero">
        <div class="brand-mark">
          <img src="static/assets/pycourt-logo.svg" alt="PythonCourt logo" style="height: 96px;" />
        </div>
        <h1 class="hero-title">PythonCourt</h1>
        <p class="hero-tagline">
          The Code Court for Python<br/>
          Powered by ASTs and rules to audit Python Code written with AI
        </p>

        <div class="lang-switch">
          <!-- 这里的链接你可以按实际情况改，比如 / 为 EN，/zh/ 为中文版本 -->
          <a href="/" class="btn-lang primary">
            <span class="code">English</span>
          </a>
          <a href="/zh/" class="btn-lang">
            <span class="code">简体中文</span>
          </a>
        </div>

        <div class="hero-install">
          <div class="section-label">Install</div>
          <div class="code-block">
            <pre class="code"><code>pip install pycourt</code></pre> <!-- 需要增加复制按钮 -->
          </div>
          <div class="code-caption">
            Install <code>pycourt</code> into your Python environment.
          </div>
        </div>
      </header>

      <main>
        <!-- What it does -->
        <section id="what">
          <h2>What PythonCourt does</h2>
          <div class="code-caption">
            <p>
            Audit AI‑generated code and report any violations found<br/>
            Help maintain code quality and consistency in your projects<br/>
            Empower developers to write better code with AI assistance
            </p>
            <!-- 直接跳转到 MkDocs 文档首页（使用指南 · 概览） -->
            <a href="guide/started/" target="_self">
            <strong>PythonCourt Documentation</strong>
            </a>
          </div>
        </section>

        <!-- Laws -->
        <section id="laws">
          <h2>A rich set of laws</h2>
          <p>
            <strong>Audit each file that has been created or modified.</strong>
          </p>
          <p>
            A collection of Python code quality guidelines distilled from practical experience in collaborative development with AI.
          </p>

          <div class="law-columns">
            <div class="law-column">
              <div class="law-article">
                <div class="law-id">AC001</div>
                <div class="law-name">- TheAnyCastLaw -</div>
                <p class="law-summary">
                  Prohibits relying on Any, uncontracted dicts and blind typing.cast, to avoid turning core data flows into untyped “duck‑typed” fog that static checks cannot protect.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">BC001</div>
                <div class="law-name">- TheBlackCircleLaw -</div>
                <p class="law-summary">
                  Prohibits primitive or container types on HTTP/adaptor boundaries, to avoid leaking internal models instead of explicit DTO / contract types at the system edge.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DI001</div>
                <div class="law-name">- TheDepInvLaw -</div>
                <p class="law-summary">
                  Prohibits cross‑component imports that bypass core abstractions, to avoid breaking dependency inversion and tightly coupling modules to one another’s implementations.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DT001</div>
                <div class="law-name">- TheDateTimeLaw -</div>
                <p class="law-summary">
                  Prohibits direct use of datetime.now() / datetime.utcnow(), to avoid hidden time drift and untestable time‑dependent logic outside a single TimeProvider.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DS001</div>
                <div class="law-name">- TheDocsStringLaw -</div>
                <p class="law-summary">
                  Prohibits public functions and classes from lacking clear, non‑trivial docstrings, to avoid opaque APIs whose intent and contract cannot be reviewed or taught.
                </p>
              </div>
            </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">HC001</div>
                <div class="law-name">- TheHardcodingLaw -</div>
                <p class="law-summary">
                  Prohibits hard‑coded business literals and magic numbers outside constant modules, to avoid hiding configuration and cross‑engine contracts in scattered code.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">LL001</div>
                <div class="law-name">- TheLineLoopLaw -</div>
                <p class="law-summary">
                  Prohibits functions whose length or cyclomatic complexity exceeds agreed thresholds, to avoid procedures that are too large and tangled to reason about safely.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">OU001</div>
                <div class="law-name">- TheObjectUsageLaw -</div>
                <p class="law-summary">
                  Prohibits using bare object as a type in core code, to avoid “grey fog” values with no contract, where invariants and capabilities cannot be enforced.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">PC001</div>
                <div class="law-name">- TheParamClassLaw -</div>
                <p class="law-summary">
                  Prohibits treating adjustable business rules as core constants and bypassing the rule provider to directly access rule files, to avoid confusing operational controls with technical constants.
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">RE001</div>
                <div class="law-name">- TheInitNNoReExpLaw -</div>
                <p class="law-summary">
                  Prohibits bloated __init__.py files that contain logic, control flow or export gymnastics, to avoid package facades degenerating into a second hidden implementation module.
                </p>
              </div>
            </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">SK001</div>
                <div class="law-name">- TheSkillsUsageLaw -</div>
                <p class="law-summary">
                  Prohibits hard‑coding Skill IDs or directly reading from assets/skills via file I/O, to avoid coupling business code to physical skill layouts instead of a central SkillId registry and provider.
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">TC001</div>
                <div class="law-name">- TheTypeCheckingLaw -</div>
                <p class="law-summary">
                  Prohibits any use of if TYPE_CHECKING: structures, to avoid hiding circular dependencies behind “type‑only” imports that still entangle modules.
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">TP001</div>
                <div class="law-name">- TheTestPurityLaw -</div>
                <p class="law-summary">
                  Prohibits unit tests that import heavy I/O stacks, smuggle in SQLAlchemy outside whitelists, to avoid slow, brittle and fake‑coverage tests.
                </p>
              </div>
            
            <div class="law-column">
              <div class="law-article">
                <div class="law-id">UW001</div>
                <div class="law-name">- TheUnitOfWorkLaw -</div>
                <p class="law-summary">
                  Prohibits RepositoryFactory usage and commit() / rollback() calls inside repositories, to avoid violating Unit‑of‑Work atomicity and leaking transaction control.
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">VT001</div>
                <div class="law-name">- TheVectorTriggerLaw -</div>
                <p class="law-summary">
                  Prohibits raising vector or materialization events that are not backed by corresponding provider routes, to avoid emitting events that no vector service can actually fulfill at runtime.
                </p>
              </div>

            </div>
          </div>
        </section>

        <!-- Flexible trial procedures -->
        <section id="weapons">
          <h2>Flexible trial procedures</h2>
          <p>
            <strong>Trial procedures designed and arranged for different scenarios.</strong>
          </p>

          <div class="weapon-columns">
            <a class="weapon-card" href="script/official/qaf/">
              <div class="weapon-name">Dagger · file</div>
              <p class="weapon-summary">
                <strong>Quick trials for a single file, catching problems at the earliest stage.</strong>
              </p>
              <ul class="weapon-points">
                <li>Customize which laws to apply and in what order.</li>
                <li>Co‑runs with Pyright, Mypy, Bandit and Ruff as needed.</li>
                <li>Surfaces violations with short explanations and suggested fixes.</li>
              </ul>
            </a>

            <a class="weapon-card" href="script/official/qas/">
              <div class="weapon-name">Saber · scope</div>
              <p class="weapon-summary">
                <strong>Focused trials for a component or module tree.</strong>
              </p>
              <ul class="weapon-points">
                <li>Runs static audits on a per‑folder, per‑scope basis.</li>
                <li>Optionally discovers and runs matching tests for the scope.</li>
                <li>Supports non‑blocking mode when you only want an investigation report.</li>
              </ul>
            </a>

            <a class="weapon-card" href="script/official/qa/">
              <div class="weapon-name">Scepter · project</div>
              <p class="weapon-summary">
                <strong>Project‑wide trials that mirror your CI/CD pipeline.</strong>
              </p>
              <ul class="weapon-points">
                <li>Reads audit regions and Coverage from <code>pyproject.toml</code>.</li>
                <li>Invoke Saber to perform static audit on audit objectives and test code.</li>
                <li>Drives unit and integration tests across the whole project scope.</li>

              </ul>
            </a>
          </div>
        </section>

        <!-- Config-driven courtroom -->
        <section id="config">
          <h2>Config‑Driven Courtroom</h2>
          <p>
            Let <code>pycourt.yaml</code> define the laws, and
            <code>pyproject.toml</code> define how trials run.
          </p>

          <div class="config-grid">
            <div class="config-text">
              <h3>pycourt.yaml — project lawbook</h3>
              <p>
                Decide which laws are in force for this repository, how strict
                they are, and which files are outside the court’s jurisdiction.
                You can bootstrap a starter lawbook with
                <code>pycourt init</code> and then edit it by hand.
              </p>
              <ul class="feature-list">
                <li>Enable or disable individual laws.</li>
                <li>Tune thresholds and options per law.</li>
                <li>Declare central exemptions for tools, tests or migrations.</li>
              </ul>
            </div>

            <div class="config-code">
              <div class="code-block">
                <div class="section-label">pycourt.yaml</div>
                <pre class="code"><code># pycourt.yaml
laws:
  ll001:
    enabled: true
    max_function_lines: 60
  dt001:
    enabled: true

exemptions:
  LL001:
    files:
      - "tools/**"
      - "tests/helpers/**"</code></pre>
              </div>
            </div>
          </div>

          <div class="config-grid" style="margin-top: 32px;">
            <div class="config-text">
              <h3>pyproject.toml — trial procedures</h3>
              <p>
                Describe how project‑wide trials integrate with your CI/CD:
                which parts of the codebase count as "civilized" and what
                coverage bar they must meet.
              </p>
              <ul class="feature-list">
                <li>Declare which paths belong to the civilized territory audited in CI/CD.</li>
                <li>Use a single source of truth for the coverage threshold.</li>
                <li>Keep Dagger/Saber shell scripts separate while centralising CI settings here.</li>
              </ul>
            </div>

            <div class="config-code">
              <div class="code-block">
                <div class="section-label">pyproject.toml</div>
                <pre class="code"><code># pyproject.toml

[tool.pycourt]
# Territories that participate in CI/CD audits.
# Audit of cross-domain components and modules.
civilized_paths = [
    "src/api",      # civilized
    "src/business", # civilized
    "src/services", # civilized
    "src/infra",    # civilized
    "src/core",     # civilized
    # "tools",      # excluded from this CI run
]

# Single source for the coverage threshold (%).
coverage = 85</code></pre>
              </div>
            </div>
          </div>
        </section>

        <!-- Community -->
        <section id="community">
            <h2>Community & Discussion</h2>
            <p>
            A small marketplace for laws, weapons and lawbooks — built by people
            who code with AI every day.
            </p>

            <h3>Use & report back</h3>

                <p>Try Dagger, Saber or Scepter on a real project.</p>
                <p>Note which laws feel too harsh or too soft for your team.</p>
                <p>Open an Issue to share what worked, what failed, and what surprised you.</p>


            <h3 style="margin-top: 24px;">Design & publish</h3>

                <p>Design your own weapons from existing laws and share the story behind them.</p>
                <p>Publish snippets of your <code>pycourt.yaml</code> / <code>pyproject.toml</code> as examples.</p>
                <p>Contribute preset weapons or example lawbooks via PRs to the PythonCourt org.</p>


            <h3 style="margin-top: 24px;">Discuss & plan</h3>

                <p>Use Discussions to talk about new laws, teaching modes and AI workflows.</p>
                <p>File Issues for bugs, false positives or missing configuration knobs.</p>
                <p>Help prioritise the roadmap by sharing what you need most from the courtroom.</p>


            <p style="margin-top: 20px;">
            Start a trial, design a weapon, or open a case here:</p>
            <a href="https://github.com/PythonCourt" target="_blank">
            PythonCourt organization
            </a>
            —
            <a href="https://github.com/PythonCourt/pycourt" target="_blank">
            core pycourt repository
            </a>
        </p>
        </section>
      </main>

      <footer>
        <div>© 2025 PythonCourt. 
        Open‑source and community‑driven.</div>
        <div>
          Code on
          <a href="https://github.com/PythonCourt" target="_blank">GitHub</a>.
        </div>
      </footer>
    </div>
  </body>
</html>