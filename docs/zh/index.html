<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>PythonCourt – The Code Court for Python</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Powered by ASTs and rules to audit Python Code written with AI"
    />
    <style>
      :root {
        --bg: #4d4637;
        --bg-dark: #1c1c1c;
        --text: #f9f9f9;
        --text-subtle: #c6c6c6;
        --accent: #ed6a13;
        --accent-soft: #b9946a;
        --border-soft: #e0d4c2;
        --code-bg: #252525;
        --code-text: #f5f5f5;
        --btn-bg: #ffffff;
        --btn-border: #d1c3aa;
        --btn-hover-bg: #f5ebdd;
        --btn-ghost-text: #333333;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: var(--bg);
        color: var(--text);
        -webkit-font-smoothing: antialiased;
      }

      .page {
        max-width: 980px;
        margin: 0 auto;
        padding: 40px 16px 80px;
      }

      header.hero {
        text-align: center;
        margin-bottom: 40px;
      }

      .brand-mark {
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--accent);
        font-weight: 700;
        margin-bottom: 12px;
      }

      .hero-title {
        font-size: 50px;
        line-height: 1.05;
        margin: 0 0 12px;
      }

      .hero-tagline {
        font-size: 16px;
        line-height: 1.5;
        margin: 0;
        color: var(--text-subtle);
      }

      .hero-tagline strong {
        color: var(--accent);
        font-weight: 600;
      }

      .lang-switch {
        margin-top: 24px;
        display: inline-flex;
        gap: 8px;
      }

      .btn-lang {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px 14px;
        font-size: 13px;
        border-radius: 999px;
        border: 1px solid var(--btn-border);
        background: var(--btn-bg);
        color: var(--btn-ghost-text);
        text-decoration: none;
        cursor: pointer;
        transition:
          background 0.15s ease-out,
          border-color 0.15s ease-out,
          color 0.15s ease-out;
      }

      .btn-lang.primary {
        background: var(--accent);
        border-color: var(--accent);
        color: #fff;
      }

      .btn-lang:hover {
        background: var(--btn-hover-bg);
      }

      .btn-lang.primary:hover {
        background: #cc5a0e;
        border-color: #cc5a0e;
      }

      .btn-lang span.code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        margin-left: 4px;
        opacity: 0.85;
      }

      .hero-install {
        margin-top: 48px;
      }

      .section-label {
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--accent);
        margin-bottom: 8px;
        font-weight: 700;
      }

      .code-block {
        margin: 8px auto 0;
        max-width: 450px;
      }

      pre.code {
        margin: 0;
        padding: 12px 16px;
        border-radius: 6px;
        background: var(--code-bg);
        color: var(--code-text);
        font-size: 13px;
        overflow-x: auto;
      }

      pre.code code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }

      .code-caption {
        font-size: 14px;
        color: var(--text-subtle);
        margin-top: 6px;
        text-align: center;
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }

      main {
        margin-top: 40px;
      }

      section {
        margin-top: 40px;
        border-top: 1px solid var(--border-soft);
        padding-top: 28px;
        text-align: center;
      }

      section:first-of-type {
        border-top: none;
        padding-top: 0;
      }

      section h2 {
        margin: 0 0 12px;
        font-size: 32px;
        text-align: center;
      }

      section p {
        margin: 0 0 10px;
        line-height: 1.6;
        color: var(--text-subtle);
      }

      ul.feature-list {
        margin: 10px 0 0 18px;
        padding: 0;
        color: var(--text-subtle);
      }

      ul.feature-list li {
        margin-bottom: 6px;
      }

      .pill {
        display: inline-block;
        padding: 3px 9px;
        font-size: 11px;
        border-radius: 999px;
        background: var(--accent-soft);
        color: var(--text);
        margin-right: 6px;
        margin-top: 4px;
      }

      .weapon-columns {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        column-gap: 32px;
        row-gap: 24px;
        margin-top: 20px;
        text-align: left;
      }

      .weapon-card {
        padding: 16px 18px;
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.08);
      }

      .weapon-name {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--accent);
      }

      .weapon-summary {
        font-size: 14px;
        color: var(--text-subtle);
        margin: 0 0 10px;
      }

      .weapon-points {
        margin: 0 0 0 18px;
        padding: 0;
        font-size: 13px;
        color: var(--text-subtle);
      }

      .weapon-points li {
        margin-bottom: 4px;
      }

      .config-grid {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
        column-gap: 40px;
        row-gap: 24px;
        margin-top: 24px;
        align-items: flex-start;
        text-align: left;
      }

      .config-text h3 {
        margin: 0 0 8px;
        font-size: 18px;
        color: var(--accent);
      }

      .config-code .section-label {
        text-align: left;
      }

      .law-columns {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        column-gap: 40px;
        row-gap: 12px;
        margin-top: 8px;
      }

      .law-column {
        text-align: center;
      }

      .law-article {
        margin-bottom: 10px;
      }

      .law-id {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 16px;
        color: var(--accent);
      }

      .law-name {
        font-size: 16px;
        font-weight: 600;
        margin-top: 2px;
      }

      .law-summary {
        font-size: 13px;
        color: var(--text-subtle);
        margin: 2px 0 0;
      }

      a {
        color: var(--accent);
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      footer {
        margin-top: 56px;
        padding-top: 20px;
        border-top: 1px solid var(--border-soft);
        font-size: 13px;
        color: var(--text-subtle);
        text-align: center;
      }

      @media (max-width: 640px) {
        .hero-title {
          font-size: 34px;
        }

        .hero-tagline {
          font-size: 16px;
        }

        .page {
          padding: 24px 14px 56px;
        }

        .law-columns {
          grid-template-columns: 1fr;
        }

        .weapon-columns {
          grid-template-columns: 1fr;
        }

        .config-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- Hero -->
      <header class="hero">
        <div class="brand-mark">
          <img src="../static/assets/pycourt-logo.svg" alt="PythonCourt logo" style="height: 96px;" />
        </div>
        <h1 class="hero-title">PythonCourt</h1>
        <p class="hero-tagline">
          Python 代码法院<br />
          由ASTs和规则审计使用AI编写的Python代码
        </p>

        <div class="lang-switch">
          <!-- 这里的链接你可以按实际情况改，比如 / 为 EN，/zh/ 为中文版本 -->
          <a href="/" class="btn-lang">
            <span class="code">English</span>
          </a>
          <a href="/zh/" class="btn-lang primary">
            <span class="code">简体中文</span>
          </a>
        </div>

        <div class="hero-install">
          <div class="section-label">安装</div>
          <div class="code-block">
            <pre class="code"><code>pip install pycourt</code></pre> <!-- 需要增加复制按钮 -->
          </div>
          <div class="code-caption">
            将 <code>pycourt</code> 安装到你的 Python 项目环境中。
          </div>
        </div>
      </header>

      <main>
        <!-- What it does -->
        <section id="what">
          <h2>PythonCourt是什么？</h2>
          <div class="code-caption">
            <p>
            审计AI生成的代码，并报告发现的任何非法活动<br/>
            保持您项目中的代码质量和一致性<br/>
            赋能开发者，借助人工智能辅助编写更优质的代码
            </p>
            <!-- 直接跳转到中文文档首页（使用指南 · 概览） -->
            <a href="../guide/started/" target="_self">
            <strong>查看文档</strong>
            </a>
          </div>
        </section>
        <!-- Laws -->
        <section id="laws">
          <h2>丰富的法规</h2>
          <p>
            <strong>对创建和修改的每个文件展开审计</strong>
          </p>
          <p>
            从与 AI 合作开发的真实实践中提炼出的不断增长的工程规则集合。
          </p>

          <div class="law-columns">
            <div class="law-column">
              <div class="law-article">
                <div class="law-id">AC001</div>
                <div class="law-name">- 鸭子类型 -</div>
                <p class="law-summary">
                  禁止依赖any、未知dict和cast，以避免将核心数据流转变为静态检查无法保护的未类型化的“鸭子类型”迷雾。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">BC001</div>
                <div class="law-name">- 边境管理 -</div>
                <p class="law-summary">
                  禁止在HTTP/适配器边界上使用原始或容器类型，以避免在系统边缘泄露内部模型，而不是显式DTO/契约类型。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DI001</div>
                <div class="law-name">- 依赖倒置 -</div>
                <p class="law-summary">
                  禁止绕过核心抽象的跨组件导入，以避免破坏依赖倒置并紧密耦合模块到彼此的实现。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DT001</div>
                <div class="law-name">- 时间漂移 -</div>
                <p class="law-summary">
                  禁止直接使用 datetime.now() / utcnow()，以避免隐藏的时间漂移和在单一 TimeProvider 之外不可测试的时间相关逻辑。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">DS001</div>
                <div class="law-name">- 文档字符串 -</div>
                <p class="law-summary">
                  禁止公共函数和类缺少清晰、非平凡的文档字符串，以避免意图和契约无法被审查的不透明API。
                </p>
              </div>
            </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">HC001</div>
                <div class="law-name">- 硬编码 -</div>
                <p class="law-summary">
                  禁止在常量模块之外使用硬编码的业务字面量和魔法数字，以避免在分散的代码中隐藏配置和跨引擎契约。
              </div>

              <div class="law-article">
                <div class="law-id">LL001</div>
                <div class="law-name">- 过度复杂 -</div>
                <p class="law-summary">
                  禁止函数长度或循环复杂度超过约定阈值，以避免过程过大且纠缠而无法安全推理。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">OU001</div>
                <div class="law-name">- 裸对象类型 -</div>
                <p class="law-summary">
                  禁止在核心代码中使用裸对象作为类型，以避免“灰色迷雾”值没有契约，其中不变量和能力无法强制执行。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">PC001</div>
                <div class="law-name">- 参数分类 -</div>
                <p class="law-summary">
                  禁止将业务可调整规则视为核心常量，并绕过RuleProvider直接访问规则文件，以避免将操作控制与技术常量混淆。
                </p>
              </div>

              <div class="law-article">
                <div class="law-id">RE001</div>
                <div class="law-name">- 聚合导出 -</div>
                <p class="law-summary">
                  禁止在 `__init__.py` 文件中包含逻辑的导出技巧，以避免包外观退化为第二个隐藏的实现模块。
                </p>
              </div>
            </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">SK001</div>
                <div class="law-name">- 技能提供者 -</div>
                <p class="law-summary">
                  禁止直接通过I/O读取assets/skills，以避免将业务代码与物理技能布局耦合，而不是使用中央SkillId注册表和提供者。
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">TC001</div>
                <div class="law-name">- 内部盘查 -</div>
                <p class="law-summary">
                  禁止任何使用 if TYPE_CHECKING: 的结构，以避免隐藏循环依赖关系，这些依赖关系在“仅类型”导入中仍然纠缠模块。
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">TP001</div>
                <div class="law-name">- 测试代码 -</div>
                <p class="law-summary">
                  禁止导入重I/O堆栈的单元测试，将SQLAlchemy偷偷带入白名单之外，以避免缓慢、脆弱和虚假覆盖的测试。
                </p>
              </div>
            
            <div class="law-column">
              <div class="law-article">
                <div class="law-id">UW001</div>
                <div class="law-name">- 工作单元 -</div>
                <p class="law-summary">
                  禁止在仓库中使用commit() / rollback() 调用，以避免违反工作单元的原子性并泄露事务控制。
                </p>
              </div>

            <div class="law-column">
              <div class="law-article">
                <div class="law-id">VT001</div>
                <div class="law-name">- 向量触发器 -</div>
                <p class="law-summary">
                  禁止触发路由不支持的向量和实体事件，以避免发出向量服务在运行时无法实际履行的事件。
                </p>
              </div>

            </div>
          </div>
        </section>

        <!-- Flexible trial procedures -->
        <section id="weapons">
          <h2>灵活的审判程序</h2>
          <p>
            <strong>支持为不同场景而设计和编排审计工具</strong>
          </p>

          <div class="weapon-columns">
            <div class="weapon-card">
              <div class="weapon-name">匕首 · 文件</div>
              <p class="weapon-summary">
                <strong>单文件快速测试，将问题扼杀在摇篮。</strong>
              </p>
              <ul class="weapon-points">
                <li>自定义设计采用哪些法律以及审判顺序和流程。</li>
                <li>与Pyright、Mypy、Bandit和Ruff等专业工具协同运行。</li>
                <li>发现违规问题并提供解释和修复建议。</li>
              </ul>
            </div>

            <div class="weapon-card">
              <div class="weapon-name">军刀 · 范围</div>
              <p class="weapon-summary">
                <strong>针对组件或模块树的聚焦审计。</strong>
              </p>
              <ul class="weapon-points">
                <li>对目标范围内的每个文件进行静态审计。</li>
                <li>智能匹配审计目标的测试代码并执行静态审计和单元测试。</li>
                <li>利用非阻断模式对目标范围可能的违法行为进行侦查。</li>
              </ul>
            </div>

            <div class="weapon-card">
              <div class="weapon-name">权杖 · 项目</div>
              <p class="weapon-summary">
                <strong>对项目进行本地化 CI/CD以快速 PR</strong>
              </p>
              <ul class="weapon-points">
                <li>从 <code>pyproject.toml</code>读取审计目标和测试覆盖率阈值。</li>
                <li>调用军刀对审计目标和测试代码进行静态审计。</li>
                <li>驱动项目范围内的单元和集成测试。</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Config-driven courtroom -->
        <section id="config">
          <h2>配置驱动的法庭</h2>
          <p>
            通过 <code>pycourt.yaml</code> 定义法律，通过<code>pyproject.toml</code> 定义审判如何运行。
          </p>

          <div class="config-grid">
            <div class="config-text">
              <h3>pycourt.yaml — 项目法典</h3>
              <p>
                决定适用于仓库的法律，它们的严格程度以及哪些文件可以被豁免。您可以使用启动法律手册进行引导。
                你可以运行 <code>pycourt init</code> 后手动编辑它。
              </p>
              <ul class="feature-list">
                <li>启用或禁用单个法律。</li>
                <li>调整法律阈值和选项。</li>
                <li>为特别文件声明豁免。</li>
              </ul>
            </div>

            <div class="config-code">
              <div class="code-block">
                <div class="section-label">pycourt.yaml</div>
                <pre class="code"><code># pycourt.yaml
laws:
  ll001:
    enabled: true
    max_function_lines: 60
  dt001:
    enabled: true

exemptions:
  LL001:
    files:
      - "tools/**"
      - "tests/helpers/**"</code></pre>
              </div>
            </div>
          </div>

          <div class="config-grid" style="margin-top: 32px;">
            <div class="config-text">
              <h3>pyproject.toml — 审判程序</h3>
              <p>
                描述项目范围内的审判如何与您的CI/CD集成，哪些代码库部分算作“文明”的，以及它们必须达到的覆盖率标准。
              </p>
              <ul class="feature-list">
                <li>声明哪些路径属于在CI/CD中被审计的文明区域。</li>
                <li>使用单一来源的覆盖率阈值。</li>
                <li>保持Dagger/Saber shell脚本独立，同时将CI设置集中在这里。</li>
              </ul>
            </div>

            <div class="config-code">
              <div class="code-block">
                <div class="section-label">pyproject.toml</div>
                <pre class="code"><code># pyproject.toml

[tool.pycourt]
# 参与CI/CD审计的领土。
# 跨域组件和模块审计集成。
civilized_paths = [
    "src/api",      # 文明
    "src/business", # 文明
    "src/services", # 文明
    "src/infra",    # 文明
    "src/core",     # 文明
    # "tools",    # 不参与本次 CI 运行
]

# 单一真实来源的覆盖阈值（%）
coverage = 85</code></pre>
              </div>
            </div>
          </div>
        </section>

        <!-- Community -->
        <section id="community">
            <h2>社区 & 讨论</h2>
            <p>
            一个Python法典和武器的市场——由使用 Python 编程的人们创建、共享和改进
            </p>

            <h3>使用并反馈</h3>

                <p>尝试在真实项目中使用匕首、军刀或权杖</p>
                <p>注意哪些法律对您的项目来说过于严格或过于宽松</p>
                <p>打开一个 Issue 来分享哪些工作有效、哪些失败以及哪些让您感到惊讶</p>

            <h3 style="margin-top: 24px;">设计与发布</h3>

                <p>对现有法典进行优化或者设计全新的法典</p>
                <p>创建新的武器以支持不同的审计场景和工作流程</p>
                <p>通过 PRs 向 PythonCourt 组织贡献法典或武器，并分享背后的故事</p>


            <h3 style="margin-top: 24px;">讨论与规划</h3>
                <p>使用讨论来谈论新法律、教学模式和AI工作流程</p>
                <p>文件问题，用于报告错误、误报或缺失配置旋钮</p>
                <p>通过分享您从法庭中需要最多的功能来帮助优先考虑路线图</p>


            <p style="margin-top: 20px;">
            开始使用，设计武器或在此开启</p>
            <a href="https://github.com/PythonCourt" target="_blank">
            PythonCourt 组织贡献预设武器或示例法典。
            </a>
            —
            <a href="https://github.com/PythonCourt/pycourt" target="_blank">
            核心 pycourt 仓库
            </a>
        </p>
        </section>
      </main>

      <footer>
        <div>© 2025 PythonCourt 
        开源和社区驱动。</div>
        <div>
          Code on
          <a href="https://github.com/PythonCourt" target="_blank">GitHub</a>.
        </div>
      </footer>
    </div>
  </body>
</html>